const product = [
    {
        "createdAt": "2023-10-07T15:14:38.682Z",
        "title": "Diary of a Wimpy Kid",
        "price": 52,
        "quantity": 15,
        "age": 8,
        "image": "https://m.media-amazon.com/images/I/51PU+rBEnjL.jpg",
        "genre": "silly",
        "id": "1"
      },
      {
        "createdAt": "2023-10-08T00:16:29.855Z",
        "title": "Diary of a Wimpy Kid 2",
        "price": 88,
        "quantity": 38,
        "age": 8,
        "image": "https://cdn.kobo.com/book-images/7b766217-b13a-4db7-8468-ab92e1e1acd7/1200/1200/False/rodrick-rules-diary-of-a-wimpy-kid-2.jpg",
        "genre": "silly",
        "id": "2"
      },
      {
        "createdAt": "2023-10-08T06:24:35.305Z",
        "title": "Diary of a Wimpy Kid 3",
        "price": 7,
        "quantity": 70,
        "age": 8,
        "image": "https://m.media-amazon.com/images/I/61AwnOMUxaL._AC_UF1000,1000_QL80_.jpg",
        "genre": "silly",
        "id": "3"
      },
      {
        "createdAt": "2023-10-08T06:16:53.794Z",
        "title": "Diary of a Wimpy Kid 4",
        "price": 89,
        "quantity": 11,
        "age": 41,
        "image": "https://m.media-amazon.com/images/I/51xtAaoEOtL.jpg",
        "genre": "silly",
        "id": "4"
      },
      {
        "createdAt": "2023-10-07T21:13:37.342Z",
        "title": "Diary of a Wimpy Kid 5",
        "price": 99,
        "quantity": 99,
        "age": 15,
        "image": "https://m.media-amazon.com/images/I/51--E257NdL.jpg",
        "genre": "silly",
        "id": "5"
      },
      {
        "createdAt": "2023-10-08T07:50:17.064Z",
        "title": "Diary of a Wimpy Kid 6",
        "price": 45,
        "quantity": 14,
        "age": 100,
        "image": "https://m.media-amazon.com/images/I/51B+ck06HHL.jpg",
        "genre": "silly",
        "id": "6"
      },
      {
        "createdAt": "2023-10-07T09:06:22.297Z",
        "title": "Diary of a Wimpy Kid 7",
        "price": 80,
        "quantity": 38,
        "age": 91,
        "image": "https://m.media-amazon.com/images/I/71fmWsSY56L._AC_UF1000,1000_QL80_.jpg",
        "genre": "silly",
        "id": "7"
      },
      {
        "createdAt": "2023-10-07T22:09:55.259Z",
        "title": "Diary of a Wimpy Kid 8",
        "price": 91,
        "quantity": 66,
        "age": 6,
        "image": "https://cdn.kobo.com/book-images/ba055b77-e84a-4567-a791-c9a4cc7b0911/1200/1200/False/diary-of-a-wimpy-kid-hard-luck-book-8.jpg",
        "genre": "silly",
        "id": "8"
      },
      {
        "createdAt": "2023-10-29T01:41:50.239Z",
        "title": "Diary of a Wimpy Kid 9",
        "price": 48,
        "quantity": 12,
        "age": 9,
        "image": "https://m.media-amazon.com/images/I/81ab9yZz-gL._AC_UF894,1000_QL80_.jpg",
        "genre": "silly",
        "id": "9"
      },
      {
        "createdAt": "2023-10-29T12:33:55.755Z",
        "title": "Diary of a Wimpy Kid 10",
        "price": 86,
        "quantity": 59,
        "age": 5,
        "image": "https://m.media-amazon.com/images/I/91bCc7TVLwL._AC_UF1000,1000_QL80_.jpg",
        "genre": "silly",
        "id": "10"
      },
      {
        "createdAt": "2023-10-28T20:22:10.089Z",
        "title": "Daylight of tomorrow",
        "price": 47,
        "quantity": 90,
        "age": 55,
        "image": "https://th.bing.com/th/id/OIP.eyjj9SSQjCgo6phlvmHy_gHaL2?w=183&h=294&c=7&r=0&o=5&dpr=1.4&pid=1.7",
        "genre": "genre 11",
        "id": "11"
      },
      {
        "createdAt": "2023-10-29T04:56:32.231Z",
        "title": "A Friendship on the cloudy",
        "price": 59,
        "quantity": 19,
        "age": 97,
        "image": "https://th.bing.com/th/id/OIP.rP1IBIdBC2yD5FdX41nJsAHaL2?w=183&h=294&c=7&r=0&o=5&dpr=1.4&pid=1.7",
        "genre": "genre 12",
        "id": "12"
      },
      {
        "createdAt": "2023-10-29T03:02:06.679Z",
        "title": "The Forbidden Wish",
        "price": 92,
        "quantity": 74,
        "age": 10,
        "image": "https://th.bing.com/th/id/OIP.sfTZMS_Q5GT0G0wP_Tg8AQAAAA?w=183&h=277&c=7&r=0&o=5&dpr=1.4&pid=1.7",
        "genre": "genre 13",
        "id": "13"
      },
      {
        "createdAt": "2023-10-28T23:53:13.087Z",
        "title": "The Tunnel of Hope",
        "price": 5,
        "quantity": 66,
        "age": 91,
        "image": "https://th.bing.com/th/id/OIP.vG19N6VU1IahJZdXCC4kVAHaL2?w=183&h=294&c=7&r=0&o=5&dpr=1.4&pid=1.7",
        "genre": "genre 14",
        "id": "14"
      },
      {
        "createdAt": "2023-10-29T06:29:52.938Z",
        "title": "Harry Potter and the Sorcerer's Stone",
        "price": 94,
        "quantity": 15,
        "age": 16,
        "image": "https://th.bing.com/th/id/OIP.hH_4GOsGCoCqQBwCc-5J7wHaLS?w=183&h=279&c=7&r=0&o=5&dpr=1.4&pid=1.7",
        "genre": "genre 15",
        "id": "15"
      },
      {
        "createdAt": "2023-10-28T19:58:39.655Z",
        "title": "Harry Potter and the Chamber of Secrets",
        "price": 83,
        "quantity": 69,
        "age": 34,
        "image": "https://th.bing.com/th/id/OIP.iFyEzQvkrjg7zM-AUSzcGwHaIs?w=183&h=215&c=7&r=0&o=5&dpr=1.4&pid=1.7",
        "genre": "genre 16",
        "id": "16"
      },
      {
        "createdAt": "2023-10-29T02:56:36.096Z",
        "title": "Harry Potter and the Prisoner of Azkaban",
        "price": 19,
        "quantity": 38,
        "age": 69,
        "image": "https://th.bing.com/th/id/OIP.w6Sl-8EKvIPzYp5SsH3H6AHaLL?w=183&h=277&c=7&r=0&o=5&dpr=1.4&pid=1.7",
        "genre": "genre 17",
        "id": "17"
      },
      {
        "createdAt": "2023-10-29T10:13:26.512Z",
        "title": "Harry Potter and the Goblet of Fire",
        "price": 65,
        "quantity": 16,
        "age": 94,
        "image": "https://th.bing.com/th/id/OIP.pH9kU-aw0ZjBEscqxJ2O2gHaLS?w=183&h=279&c=7&r=0&o=5&dpr=1.4&pid=1.7",
        "genre": "genre 18",
        "id": "18"
      },
      {
        "createdAt": "2023-10-29T07:59:49.813Z",
        "title": "name 19",
        "price": 84,
        "quantity": 34,
        "age": 51,
        "image": "image 19",
        "genre": "genre 19",
        "id": "19"
      },
      {
        "createdAt": "2023-10-28T19:04:15.244Z",
        "title": "name 20",
        "price": 15,
        "quantity": 87,
        "age": 64,
        "image": "image 20",
        "genre": "genre 20",
        "id": "20"
      }
];
const categories = [...new Set(product.map((item)=>
    {return item}))]
    let i=0;
document.getElementById('root').innerHTML = categories.map((item)=>
{
    var {image, title, price} = item;
    return(
        `<div class='box'>
            <div class='img-box'>
                <img class='images' src=${image}></img>
            </div>
        <div class='bottom'>
        <p>${title}</p>
        <h2>$ ${price}.00</h2>`+
        "<button onclick='addtocart("+(i++)+")'>Add to cart</button>"+
        `</div>
        </div>`
    )
}).join('')

var cart = [];

function addtocart(a){
    cart.push({...categories[a]});
    displaycart();
}
function delElement(a){
    cart.splice(a, 1);
    displaycart();
}

function displaycart(){
    let j = 0, total=0;
    document.getElementById("count").innerHTML=cart.length;
    if(cart.length==0){
        document.getElementById('cartItem').innerHTML = "Your cart is empty";
        document.getElementById("total").innerHTML = "$ "+0+".00";
    }
    else{
        document.getElementById("cartItem").innerHTML = cart.map((items)=>
        {
            var {image, title, price} = items;
            total=total+price;
            document.getElementById("total").innerHTML = "$ "+total+".00";
            return(
                `<div class='cart-item'>
                <div class='row-img'>
                    <img class='rowimg' src=${image}>
                </div>
                <p style='font-size:12px;'>${title}</p>
                <h2 style='font-size: 15px;'>$ ${price}.00</h2>`+
                "<i class='fa-solid fa-trash' onclick='delElement("+ (j++) +")'></i></div>"
            );
        }).join('');
    }

    
}

const addToCart2 = document.getElementById('addToCart');

addToCart2.addEventListener('click', () => {
    window.location = './cart.html'
});
